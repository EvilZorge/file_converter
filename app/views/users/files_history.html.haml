%div(ng-controller="UsersCtrl" ng-init="init('#{current_user.serialize}')")
  %table.table.table-striped(st-table="files")
    %thead
      %tr
        %th(st-sort="filename") {{ 'filename' | translate }}
        %th(st-sort="format") {{ 'format' | translate }}
        %th(st-sort="extension") {{ 'extension' | translate }}
        %th(st-sort="created_at" st-sort-default="reverse") {{ 'created_at' | translate }}
        %th(st-sort="state") {{ 'state' | translate }}
        %th
      %tr
        %th
          %input.input-sm.form-control(st-search="filename" type="search")
        %th
          %input.input-sm.form-control(st-search="format" type="search")
        %th
          %input.input-sm.form-control(st-search="extension" type="search")
        %th
          %input.input-sm.form-control(st-search="created_at" type="search")
        %th
          %input.input-sm.form-control(st-search="state" type="search")
        %th
    %tbody
      %tr(ng-repeat="file in files")
        %td {{file.filename}}
        %td {{file.format}}
        %td {{file.extension}}
        %td {{file.created_at | date }}
        %td
          %span.text(ng-class="file.state") {{file.state}}
        %td
          %a.btn.btn-success(href="{{file.download_url}}" ng-if="file.download_url") {{ 'download' | translate }}
